# ⚙️ Módulo 2: Setup profesional del entorno

> Este módulo amplía la instalación básica (Modulo 1 - Tema 0) y se enfoca en las **herramientas de gestión profesional** del entorno de desarrollo en Python: control de versiones, entornos virtuales, gestión de dependencias y productividad en equipo.

---

## 🧩 **Tema 2.1:** Gestores de versiones y entornos
### `pyenv`, `pyenv-win`, `conda/mamba`, `venv`, `uv`

Los entornos virtuales permiten **aislar las dependencias** de cada proyecto, evitando conflictos entre versiones de librerías o del propio intérprete de Python.

### 🔹 Opción 1: `pyenv` / `pyenv-win` (gestor de versiones de Python)

Permite instalar y alternar fácilmente entre distintas versiones de Python.

#### 🪟 Windows
```powershell
# Instalar pyenv-win
Invoke-WebRequest -UseBasicParsing -Uri https://pyenv.run | Invoke-Expression
# Listar versiones disponibles
pyenv install -l
# Instalar y usar una versión
pyenv install 3.12.3
pyenv global 3.12.3
python -V
```

#### 🐧 Ubuntu / Linux
```bash
curl https://pyenv.run | bash
exec $SHELL
pyenv install 3.12.3
pyenv global 3.12.3
```

> 💡 Ideal para mantener entornos reproducibles y probar proyectos con distintas versiones de Python.

---

### 🔹 Opción 2: `conda` / `mamba`
Gestores de entornos que integran Python y paquetes compilados (útil para ciencia de datos o cómputo pesado).

```bash
# Crear entorno con mamba o conda
mamba create -n taller python=3.12
mamba activate taller
```

> 📦 `mamba` es un reemplazo de `conda` más rápido y ligero.

---

### 🔹 Opción 3: `venv` (método estándar de Python)
```bash
python -m venv .venv
source .venv/bin/activate   # Linux/macOS
.venv\Scripts\activate      # Windows
```
Desactiva con:
```bash
deactivate
```

---

### 🔹 Opción 4: `uv` (entornos ultra-rápidos)
[`uv`](https://github.com/astral-sh/uv) es un nuevo gestor moderno y optimizado escrito en Rust.

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
uv python install 3.12
uv venv .venv
source .venv/bin/activate
```

> 🚀 *Ventajas:* instalación instantánea, compatible con `pip` y `pyproject.toml`.

---

## 📦 **Tema 2.2:** Gestores de paquetes y proyectos
### `pip`, `uv`, `poetry`, `pyproject.toml` y lockfiles

### 🔹 `pip`
Instalador estándar de paquetes de Python:
```bash
pip install numpy pandas matplotlib
pip freeze > requirements.txt
pip install -r requirements.txt
```

---

### 🔹 `uv` (sustituye a `pip` + `venv`)
Gestor moderno todo-en-uno.
```bash
uv add numpy pandas
uv lock
uv run python main.py
```

---

### 🔹 `Poetry`
Permite gestionar dependencias, entornos y versiones del proyecto desde un archivo de configuración `pyproject.toml`.

```bash
curl -sSL https://install.python-poetry.org | python3 -
poetry new mi_proyecto
cd mi_proyecto
poetry add numpy pandas
poetry run python main.py
```

Ejemplo de `pyproject.toml`:

```toml
[tool.poetry]
name = "mi_proyecto"
version = "0.1.0"
description = "Ejemplo de proyecto con Poetry"
authors = ["Tu Nombre <[email protected]>"]

[tool.poetry.dependencies]
python = "^3.12"
numpy = "^2.0"
pandas = "^2.1"

[build-system]
requires = ["poetry-core"]
build-backend = "poetry.core.masonry.api"
```

> 🔐 El archivo `poetry.lock` guarda las versiones exactas para asegurar reproducibilidad.

---

## 💻 **Tema 2.3:** IDEs y productividad
### VS Code, PyCharm, depuración y linters

### 🔹 Visual Studio Code
Instalar extensiones:
- **Python (Microsoft)**
- **Jupyter (Microsoft)**
- **Pylance (IntelliSense avanzado)**
- **Black Formatter** (autoformato de código)

Ejemplo de configuración (`settings.json`):
```json
{
  "python.formatting.provider": "black",
  "editor.formatOnSave": true,
  "python.linting.enabled": true
}
```

---

### 🔹 PyCharm (Community / Professional)
Entorno completo con depurador integrado, gestión de entornos virtuales y herramientas de testing.

> 💡 **PyCharm Pro** incluye soporte científico, bases de datos y notebooks integrados.

---

### 🔹 Linters y formateadores
- **Flake8** → chequea estilo y errores comunes.
- **Black** → formato automático de código.
- **isort** → ordena imports.

Instalación rápida:
```bash
pip install flake8 black isort
```

---

### 🔹 Depuración básica
```python
import pdb
pdb.set_trace()
```
O usar el **debugger integrado de VS Code o PyCharm** (punto de quiebre, inspección de variables, paso a paso).

---

## 🌍 **Tema 2.4:** Control de versiones y colaboración
### Git básico + flujo con GitHub (repos, ramas, PRs)

#### 🔹 Inicializar y conectar repositorio
```bash
git init
git add .
git commit -m "Primer commit"
git branch -M main
git remote add origin [email protected]:usuario/mi-proyecto.git
git push -u origin main
```

---

#### 🔹 Flujo de trabajo recomendado (branch → commit → PR)
1. Crear rama de trabajo:
   ```bash
   git checkout -b feature/nueva-funcionalidad
   ```
2. Realizar cambios y confirmar:
   ```bash
   git add .
   git commit -m "Agrega nueva funcionalidad"
   ```
3. Subir la rama:
   ```bash
   git push origin feature/nueva-funcionalidad
   ```
4. Crear **Pull Request (PR)** en GitHub y pedir revisión.

---

#### 🔹 Mantener tu rama actualizada
```bash
git checkout main
git pull origin main
git merge feature/nueva-funcionalidad
```

> 💬 *Tip:* usar ramas separadas evita conflictos y mantiene limpio el historial del proyecto.

---

## ✅ Checklist de setup profesional

| Área | Herramienta / comando | Verificación |
|------|------------------------|---------------|
| Python | `python --version` | ✅ Correcta versión instalada |
| Entornos | `venv`, `pyenv`, `uv` | ✅ Entorno virtual activo |
| Dependencias | `pip list` o `uv list` | ✅ Librerías del proyecto |
| Git | `git status` | ✅ Repositorio inicializado |
| Editor | VS Code / PyCharm | ✅ Linter y formateo funcionando |
| GitHub | `git push`, PR | ✅ Conexión remota y colaboración |

---

## 📚 Recursos adicionales

- [pyenv GitHub](https://github.com/pyenv/pyenv)
- [uv (Astral SH)](https://docs.astral.sh/uv/)
- [Poetry documentation](https://python-poetry.org/docs/)
- [VS Code Python docs](https://code.visualstudio.com/docs/python/python-tutorial)
- [JetBrains PyCharm](https://www.jetbrains.com/pycharm/)
- [Pro Git Book (gratis)](https://git-scm.com/book/en/v2)

---

> 🧭 **Conclusión:**
> Este módulo consolida un entorno profesional reproducible, versionado y colaborativo, permitiendo a los estudiantes trabajar con prácticas similares a las de un entorno de desarrollo real.

---

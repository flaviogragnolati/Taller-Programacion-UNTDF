# 🖨️ `print()` en Python: uso práctico, f-strings y t-strings

> Objetivo: dominar `print()` como herramienta de salida y conocer las formas modernas de interpolar datos: **f-strings** (3.6+) y **t-strings** (3.14+).

---

## 1) `print(*args, sep=' ', end='\n', file=sys.stdout, flush=False)`

`print()` recibe **múltiples valores** y los separa con `sep`, termina con `end`, puede redirigirse a un archivo con `file` y forzar el vaciado con `flush`.

```python
print("Hola", "mundo")                          # Hola mundo
print("A", "B", "C", sep=" | ")                 # A | B | C
print("Sin salto de línea...", end="")          # (no agrega '\n')
print("ahora sí")
import sys
print("A stderr", file=sys.stderr)
```

---

## 2) Imprimir listas, diccionarios y colecciones

### 2.1 Listas y *unpacking*
```python
nums = [10, 20, 30]
print(nums)           # [10, 20, 30]
print(*nums, sep=", ")# 10, 20, 30
```

### 2.2 Diccionarios
```python
user = {"id": 1, "name": "Ada", "lang": "Python"}
print(user)           # {'id': 1, 'name': 'Ada', 'lang': 'Python'}
for k, v in user.items():
    print(f"{k}: {v}")
```

### 2.3 Impresión “bonita” (pretty print)
```python
from pprint import pprint
pprint(user)          # claves ordenadas, indentación legible
```

### 2.4 JSON legible
```python
import json
print(json.dumps(user, ensure_ascii=False, indent=2))
```

---

## 3) f-strings: interpolación directa y formateo

Las **f-strings** (prefijo `f`/`F`) permiten interpolar expresiones entre llaves `{}` y usar el **mini-lenguaje de formato** (`:>10.2f`, etc.).

```python
nombre = "Ada"
edad = 28
print(f"Hola {nombre}, tenés {edad} años.")

pi = 3.1415926535
print(f"π ≈ {pi:.3f}")           # π ≈ 3.142
print(f"{'col':<10}{'valor':>6}")# alineación
print(f"{255:#04x}")             # base/representación
```

### 3.1 Expresiones y depuración con `=`
```python
a, b = 4, 7
print(f"{a=}, {b=}, suma={a+b}") # a=4, b=7, suma=11
```

### 3.2 Diccionarios/listas dentro de f-strings
```python
p = {"x": 12.3, "y": -4}
print(f"{p['x']=}, {p['y']=}")   # p['x']=12.3, p['y']=-4
nums = [1, 2, 3]
print(f"len(nums)={len(nums)}")  # evalúa expresiones
```

---

## 4) t-strings (Python 3.14+): plantillas seguras y programables

Las **t-strings** (prefijo `t`/`T`) son literales que **no devuelven un `str`**, sino un **objeto *Template*** con el texto y **las interpolaciones parseadas**. Se evalúan luego por un motor o API, lo que habilita **inyección segura**, auditoría y DSLs (SQL, shell, HTML).

> **Sintaxis idéntica** a f-strings; cambia el prefijo (`t"..."` en lugar de `f"..."`).  
> **Novedad de Python 3.14**.

```python
# Ejemplo conceptual (API ficticia ilustrativa):
query = t"SELECT * FROM users WHERE name = {name} AND age > {min_age}"
# `query` es un Template; puede inspeccionarse o renderizarse con políticas seguras:
for part in query.parts:    # literales e interpolaciones
    pass
safe_sql = query.render(params={"name": "Ada", "min_age": 18})  # p.ej. parametriza
print(safe_sql)
```

---

## 5) Comparación rápida: `f` vs `t`

| Aspecto | f-strings (`f"..."`) | t-strings (`t"..."`) |
|---|---|---|
| Resultado inmediato | `str` renderizado | `Template` (no string) |
| Seguridad/inyección | Depende del dev | Puede delegarse a motor “seguro” |
| Casos de uso | Mensajes, logs, formatos rápidos | SQL/shell/HTML templating seguro, DSL |
| Versión | 3.6+ | **3.14+** (nuevo) |

---

## 6) Formatos útiles con f-strings (mini-lenguaje)

```python
n = 1234.56789
print(f"{n:,.2f}")        # 1,234.57   (miles + 2 decimales)
print(f"{n:>12.2f}")      # alineado derecha (12 columnas)
print(f"{255:#04x}")      # 0xff  (hex con prefijo, ancho 4)
print(f"{0.00123:.2e}")   # 1.23e-03 (científica)
```

---

## 7) Tablas rápidas con `print()`

```python
rows = [("Producto", "Precio"), ("A", 12.5), ("B", 3)]
for k, v in rows:
    print(f"{k:<10} | {v:>8}")
```

Salida:
```
Producto   |    Precio
A          |     12.50
B          |      3.00
```

---

## 8) Impresión condicional y de flujo

### 8.1 `sep`, `end` y `flush` en prácticas
```python
for i in range(5):
    print(i, end=" ", flush=True)
# 0 1 2 3 4
```

### 8.2 Barra de progreso mínima
```python
import time, sys
for i in range(1, 6):
    print(f"\rProcesando {i}/5", end="", file=sys.stdout, flush=True)
    time.sleep(0.2)
print("\nListo")
```

---

## 9) Buenas prácticas

- Usá **f-strings** para salidas inmediatas y legibles.
- Considerá **t-strings** cuando necesites **plantillas auditables/seguras** (SQL, shell, HTML).
- Para estructuras complejas, **`pprint`** o `json.dumps(..., indent=2)`.
- Evitá concatenaciones repetidas dentro de bucles; preferí f-strings o `join()`.

---

## 10) Ejemplos completos

### 10.1 Reporte legible de diccionarios
```python
personas = [
    {"id": 1, "nombre": "Ada", "skills": ["Python", "ML"]},
    {"id": 2, "nombre": "Alan", "skills": ["Math", "Logic"]},
]
for p in personas:
    print(f"{p['id']:>2} | {p['nombre']:<10} | {', '.join(p['skills'])}")
```

### 10.2 Log con metadatos y formato
```python
from datetime import datetime
user, event = "root", "login"
print(f"[{datetime.now():%Y-%m-%d %H:%M:%S}] {user=}, {event=}")
```

### 10.3 (Avanzado 3.14+) t-string para SQL parametrizado (ilustrativo)
```python
# Suponiendo un ORM/driver que acepta Template de t-strings:
nombre = "Robert'); DROP TABLE Students;--"
q = t"SELECT * FROM users WHERE first_name = {nombre}"
# El driver renderiza/parametriza sin inyección:
resultado = db.execute(q)   # p.ej. convierte {nombre} en parámetro seguro
```

---

## 11) Referencias y lecturas

- [What’s New in Python 3.14 – t-strings](https://docs.python.org/3/whatsnew/3.14.html)
- [PEP 750 – Template Strings (t-strings)](https://peps.python.org/pep-0750/)
- [string.templatelib – API para t-strings](https://docs.python.org/3/library/string.html#string.Template)
- [F-strings – Real Python](https://realpython.com/python-f-strings/)
- [Python print() – W3Schools](https://www.w3schools.com/python/ref_func_print.asp)

# üêç M√≥dulo 3: Fundamentos de Python

## **Tema 3.6 ‚Äì Publicaci√≥n de paquetes y m√≥dulos**

---

## üéØ Objetivo

Comprender los **conceptos b√°sicos de publicaci√≥n de paquetes y m√≥dulos en Python**, sus **usos**, y las **diferencias** entre paquetes de **uso p√∫blico (terceros)** y paquetes de **uso interno o corporativo**.

El objetivo es conocer los pasos y herramientas que permiten convertir c√≥digo en un paquete reutilizable, compartible y mantenible.

---

## üß≠ Introducci√≥n

Python organiza su c√≥digo en **m√≥dulos** y **paquetes**. Un m√≥dulo es un √∫nico archivo `.py`, mientras que un paquete es un **conjunto estructurado** de m√≥dulos con un archivo `__init__.py` que indica que se trata de un paquete.

Publicar un paquete significa **empaquetar y distribuir** un conjunto de m√≥dulos para que puedan ser **instalados f√°cilmente** mediante herramientas como `pip`, tanto por otros usuarios como por otros proyectos internos.

## Consumo de librer√≠as, m√≥dulos y paquetes externos

En la programaci√≥n moderna, es com√∫n utilizar librer√≠as, m√≥dulos y paquetes desarrollados por terceros. Esto permite **reutilizar c√≥digo**, aprovechar soluciones ya probadas y compartir funcionalidades entre proyectos y comunidades.

### Motivaci√≥n
- **Reutilizaci√≥n de c√≥digo**: Evita reinventar la rueda y acelera el desarrollo.
- **Colaboraci√≥n y comunidad**: Permite compartir y mejorar herramientas entre desarrolladores.
- **Especializaci√≥n**: Acceso a soluciones avanzadas creadas por expertos en distintas √°reas.

### Gestores de paquetes: `pip`
El gestor de paquetes m√°s utilizado en Python es `pip`. Permite instalar, actualizar y eliminar paquetes externos f√°cilmente desde el repositorio oficial [PyPI](https://pypi.org/).

Ejemplo de instalaci√≥n:
```bash
pip install nombre_del_paquete
```

### Dependencias de un proyecto
Las dependencias son los paquetes externos que tu proyecto necesita para funcionar. Es recomendable documentarlas en un archivo como `requirements.txt`:
```
requests==2.31.0
numpy>=1.24.0
```
Esto facilita la instalaci√≥n autom√°tica de todas las dependencias:
```bash
pip install -r requirements.txt
```

### Versionado de librer√≠as y conflictos
Cada paquete tiene versiones. Es importante especificar versiones compatibles para evitar problemas de incompatibilidad. Los conflictos pueden surgir cuando dos dependencias requieren versiones diferentes de un mismo paquete.

**Problemas comunes:**
- Incompatibilidad entre versiones.
- Cambios en la API de una librer√≠a.
- Dependencias transitivas (paquetes que dependen de otros paquetes).

**Buenas pr√°cticas:**
- Usar archivos de dependencias (`requirements.txt`, `pyproject.toml`).
- Probar el proyecto tras actualizar dependencias.
- Documentar las versiones utilizadas.
---
## üì¶ 1) ¬øPor qu√© publicar paquetes?

Publicar un paquete tiene m√∫ltiples prop√≥sitos:

* ‚úÖ **Reutilizaci√≥n:** evita duplicar c√≥digo en diferentes proyectos.
* üß© **Mantenibilidad:** facilita actualizaciones y control de versiones.
* üöÄ **Colaboraci√≥n:** permite compartir librer√≠as entre equipos o con la comunidad.
* üîê **Distribuci√≥n controlada:** posibilita tener versiones internas privadas o paquetes p√∫blicos abiertos al mundo.

---

## üß© 2) M√≥dulos vs Paquetes

| Concepto       | Descripci√≥n                                                         | Ejemplo                                                      |
| -------------- | ------------------------------------------------------------------- | ------------------------------------------------------------ |
| **M√≥dulo**     | Archivo `.py` que agrupa funciones, clases o variables relacionadas | `utilidades.py`                                              |
| **Paquete**    | Carpeta con varios m√≥dulos y un `__init__.py`                       | `mi_paquete/` ‚Üí contiene `__init__.py`, `mod1.py`, `mod2.py` |
| **Subpaquete** | Carpeta dentro de un paquete que organiza funcionalidades           | `mi_paquete/red/cliente.py`                                  |

**Estructura m√≠nima de un paquete:**

```plaintext
mi_paquete/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ operaciones.py
‚îî‚îÄ‚îÄ datos.py
```

El archivo `__init__.py` puede estar vac√≠o o contener c√≥digo de inicializaci√≥n del paquete.

---

## üèóÔ∏è 3) Estructura t√≠pica para empaquetar un proyecto

```plaintext
mi_paquete/
‚îú‚îÄ‚îÄ src/mi_paquete/__init__.py
‚îú‚îÄ‚îÄ pyproject.toml
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ LICENSE
‚îî‚îÄ‚îÄ tests/
```

### Archivos clave

* **`pyproject.toml`** ‚Üí define metadatos y configuraci√≥n del paquete (nombre, versi√≥n, dependencias, herramientas de build como `setuptools` o `hatchling`).
* **`README.md`** ‚Üí descripci√≥n del proyecto.
* **`LICENSE`** ‚Üí tipo de licencia de uso.
* **`tests/`** ‚Üí pruebas autom√°ticas.

Ejemplo de `pyproject.toml` m√≠nimo:

```toml
[project]
name = "mi-paquete"
version = "0.1.0"
description = "Utilidades comunes para proyectos internos"
authors = [ { name="Equipo Desarrollo", email="dev@empresa.com" } ]
readme = "README.md"
requires-python = ">=3.10"
```

---

## üåç 4) Tipos de publicaci√≥n

### a) **Paquetes p√∫blicos (para terceros)**

Se publican en el **Python Package Index (PyPI)**, donde cualquier usuario puede instalarlos mediante:

```bash
pip install nombre-paquete
```

**Casos de uso:**

* Librer√≠as de prop√≥sito general (ej. `requests`, `numpy`, `pandas`).
* Herramientas que aportan a la comunidad.

**Ventajas:**

* Visibilidad y contribuci√≥n abierta.
* Facilita la adopci√≥n y retroalimentaci√≥n.

**Desaf√≠os:**

* Mantenimiento y compatibilidad con m√∫ltiples entornos.
* Documentaci√≥n y licenciamiento p√∫blico.

---

### b) **Paquetes internos o privados**

Destinados al **uso interno** de una empresa u organizaci√≥n. Pueden ser compartidos:

* Dentro de la misma red (repositorio privado de PyPI o `devpi`).
* En sistemas de control de versiones (`GitLab`, `GitHub Packages`).
* En forma local (`pip install ./mi_paquete`).

**Casos de uso:**

* M√≥dulos compartidos entre microservicios.
* Librer√≠as internas de logging, seguridad, o acceso a base de datos.
* Herramientas internas de an√°lisis o automatizaci√≥n.

**Ventajas:**

* Control de acceso y versiones internas.
* Integraci√≥n directa con CI/CD.
* Permite mantener coherencia en los proyectos de la organizaci√≥n.

---

## ‚öôÔ∏è 5) Herramientas comunes para empaquetado y publicaci√≥n

| Herramienta               | Funci√≥n principal                                            |
| ------------------------- | ------------------------------------------------------------ |
| **setuptools**            | Empaquetar y distribuir c√≥digo (hist√≥ricamente la m√°s usada) |
| **hatch / flit / poetry** | Alternativas modernas con gesti√≥n de dependencias integrada  |
| **twine**                 | Subir paquetes a PyPI de forma segura                        |
| **pip**                   | Instalar y administrar paquetes                              |
| **build**                 | Compilar el paquete localmente (`python -m build`)           |

**Ejemplo de publicaci√≥n a PyPI:**

```bash
pip install build twine
python -m build
python -m twine upload dist/*
```

---

## üß† 6) Buenas pr√°cticas

* Usar **nombres claros y √∫nicos** para los paquetes.
* Incluir **README** y **LICENSE** siempre.
* Mantener una **versi√≥n sem√°ntica (SemVer)** ‚Üí `MAJOR.MINOR.PATCH`.
* Crear **entornos virtuales** (`venv`, `uv`, `conda`) para aislar dependencias.
* Documentar dependencias en `pyproject.toml` o `requirements.txt`.

---

## üß© 7) Cu√°ndo publicar un paquete

| Situaci√≥n                                           | Recomendaci√≥n                          |
| --------------------------------------------------- | -------------------------------------- |
| Varias aplicaciones repiten el mismo c√≥digo         | Crear un paquete interno y compartirlo |
| Funcionalidad gen√©rica que podr√≠a usar la comunidad | Publicar en PyPI                       |
| C√≥digo muy espec√≠fico de un solo proyecto           | Mantener como m√≥dulo local             |

---

## üß≠ Conclusi√≥n

Publicar paquetes en Python, ya sea **p√∫blicos o internos**, permite **reutilizar, mantener y compartir** c√≥digo de manera estructurada.
Los paquetes internos fortalecen la consistencia y escalabilidad dentro de una organizaci√≥n, mientras que los p√∫blicos fomentan la colaboraci√≥n y el crecimiento del ecosistema Python.

El dominio de estas pr√°cticas es clave para **profesionalizar el desarrollo** y facilitar la **integraci√≥n continua** en proyectos modernos.

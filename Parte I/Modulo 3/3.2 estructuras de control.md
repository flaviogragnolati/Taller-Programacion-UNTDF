# üß≠ M√≥dulo 3: Fundamentos de Python
## **Tema 3.2 ‚Äì Estructuras de control (condicionales y bucles)**

> En este tema se introducen las **estructuras de control de flujo** de Python:
> las que permiten **tomar decisiones (condicionales)** y **repetir acciones (bucles)**.
> Estas son las herramientas b√°sicas que permiten crear programas din√°micos y l√≥gicos.

---

## ‚öôÔ∏è 1. ¬øQu√© son las estructuras de control?

Las **estructuras de control** permiten modificar el orden natural de ejecuci√≥n de las instrucciones en un programa.

Por defecto, Python ejecuta el c√≥digo **de arriba hacia abajo**.
Con estructuras de control, podemos:
- **Tomar decisiones** (ejecutar un bloque u otro seg√∫n una condici√≥n).
- **Repetir acciones** (realizar operaciones m√∫ltiples veces).
- **Controlar el flujo interno** con comandos como `break`, `continue` o `pass`.

---

## üß© 2. Condicionales (`if`, `elif`, `else`)

### Sintaxis general
```python
if condicion:
    # bloque si la condici√≥n es verdadera
elif otra_condicion:
    # bloque alternativo
else:
    # bloque por defecto
```

---

### üîπ Ejemplo 1: condicional simple
```python
temperatura = 25

if temperatura > 30:
    print("Hace calor")
else:
    print("No hace tanto calor")
```

**Salida:**
```
No hace tanto calor
```

---

### üîπ Ejemplo 2: uso de `elif`
```python
nota = 7

if nota >= 9:
    print("Excelente")
elif nota >= 7:
    print("Aprobado")
else:
    print("Reprobado")
```

**Salida:**
```
Aprobado
```

---

### üîπ Ejemplo 3: condiciones compuestas
Podemos combinar condiciones con los operadores **l√≥gicos**:

| Operador | Significado | Ejemplo |
|-----------|--------------|----------|
| `and` | Y l√≥gico | `(x > 0 and x < 10)` |
| `or` | O l√≥gico | `(x < 0 or x > 100)` |
| `not` | Negaci√≥n | `not activo` |

```python
edad = 20
licencia = True

if edad >= 18 and licencia:
    print("Puede conducir")
else:
    print("No puede conducir")
```

---

### üßÆ √Ålgebra de Boole y compuertas l√≥gicas (introducci√≥n)

Las **condiciones l√≥gicas** que se usan en programaci√≥n provienen del **√°lgebra de Boole**, una rama de las matem√°ticas desarrollada por **George Boole**.
Este sistema se basa en dos √∫nicos valores: `1` (verdadero) y `0` (falso).

#### üîπ Operaciones fundamentales

| Operaci√≥n | S√≠mbolo l√≥gico | Python | Resultado | Interpretaci√≥n |
|------------|----------------|---------|------------|----------------|
| **AND** | `‚àß` | `and` | `1` solo si ambos son `1` | ‚ÄúVerdadero si ambos lo son‚Äù |
| **OR** | `‚à®` | `or` | `1` si alguno es `1` | ‚ÄúVerdadero si alguno lo es‚Äù |
| **NOT** | `¬¨` | `not` | invierte el valor | ‚ÄúNiega el valor l√≥gico‚Äù |

#### üîπ Tabla de verdad de los operadores
| A | B | `A and B` | `A or B` | `not A` |
|---|---|------------|----------|----------|
| 0 | 0 | 0 | 0 | 1 |
| 0 | 1 | 0 | 1 | 1 |
| 1 | 0 | 0 | 1 | 0 |
| 1 | 1 | 1 | 1 | 0 |

> üí° En programaci√≥n, estas operaciones permiten **modelar decisiones** y **filtrar condiciones**.
> En electr√≥nica digital, se implementan f√≠sicamente como **compuertas l√≥gicas**.

---

### üß† Operador ternario (expresi√≥n condicional)

El **operador ternario** permite escribir una condici√≥n en una sola l√≠nea.
Sintaxis:
```python
valor = expresion_si_verdadero if condicion else expresion_si_falso
```

**Ejemplo:**
```python
edad = 20
mensaje = "Mayor de edad" if edad >= 18 else "Menor de edad"
print(mensaje)
```

**Salida:**
```
Mayor de edad
```

> üìö Referencia: [Conditional Expressions ‚Äì Python Docs](https://docs.python.org/3/reference/expressions.html#conditional-expressions)

---

## üîÅ 3. Bucles (`for` y `while`)

### üîπ `for`: recorrer secuencias

En Python, el bucle `for` **itera directamente sobre los elementos** de una secuencia (lista, tupla, cadena, etc.).

```python
nombres = ["Ana", "Luis", "Sof√≠a"]
for nombre in nombres:
    print("Hola", nombre)
```

**Salida:**
```
Hola Ana
Hola Luis
Hola Sof√≠a
```

---

### üîπ Ejemplo con `range()`
`range()` genera una secuencia de n√∫meros.

```python
for i in range(5):
    print("Iteraci√≥n n√∫mero:", i)
```

**Salida:**
```
Iteraci√≥n n√∫mero: 0
Iteraci√≥n n√∫mero: 1
Iteraci√≥n n√∫mero: 2
Iteraci√≥n n√∫mero: 3
Iteraci√≥n n√∫mero: 4
```

---

### üîπ Ejemplo: recorrer una cadena
```python
for letra in "Python":
    print(letra)
```

---

### üîπ `while`: repetir mientras una condici√≥n sea verdadera
```python
contador = 0

while contador < 3:
    print("Contador:", contador)
    contador += 1
```

**Salida:**
```
Contador: 0
Contador: 1
Contador: 2
```

> ‚ö†Ô∏è ¬°Cuidado con los bucles infinitos!
> Si la condici√≥n nunca se vuelve falsa, el programa no se detendr√°.

---

## üö¶ 4. Control del flujo dentro de bucles

### üîπ `break`
Termina el bucle inmediatamente.

```python
for i in range(10):
    if i == 5:
        break
    print(i)
```

**Salida:**
`0 1 2 3 4`

---

### üîπ `continue`
Salta a la siguiente iteraci√≥n del bucle.

```python
for i in range(5):
    if i == 2:
        continue
    print(i)
```

**Salida:**  
`0 1 3 4`

---

### üîπ `pass`
No hace nada (se usa como marcador de posici√≥n).

```python
for letra in "abc":
    pass  # se completar√° luego
```

---

### üîπ `for ‚Äì else`
El bloque `else` en un bucle `for` se ejecuta **solo si el bucle termina normalmente**, es decir, sin un `break`.

```python
for numero in range(5):
    if numero == 3:
        print("Se encontr√≥ el n√∫mero 3")
        break
else:
    print("No se encontr√≥ el n√∫mero 3")
```

**Salida:**
```
Se encontr√≥ el n√∫mero 3
```

Si no se cumple la condici√≥n del `break`, se ejecuta el `else`:
```python
for numero in range(5):
    if numero == 10:
        break
else:
    print("El n√∫mero 10 no fue encontrado")
```

**Salida:**
```
El n√∫mero 10 no fue encontrado
```

---

## üí° 5. Ejemplo integrador 1: c√°lculo de promedio ponderado

### üìñ Descripci√≥n del problema

Un estudiante desea calcular su **promedio final** a partir de tres notas y sus respectivos pesos (por ejemplo, examen parcial, trabajo pr√°ctico y final).
El programa debe:
1. Solicitar las tres notas y sus pesos.
2. Validar que las notas est√©n entre 0 y 10.
3. Calcular el promedio ponderado.
4. Mostrar el resultado y una evaluaci√≥n cualitativa:
   - `>=9`: Excelente
   - `>=7`: Aprobado
   - `<7`: Reprobado

---

### üíª Soluci√≥n en c√≥digo

```python
# C√°lculo de promedio ponderado

total_peso = 0
total_notas = 0

for i in range(3):
    nota = float(input(f"Ingrese nota {i+1} (0-10): "))
    while nota < 0 or nota > 10:
        print("‚ö†Ô∏è Nota inv√°lida. Debe estar entre 0 y 10.")
        nota = float(input(f"Ingrese nota {i+1} (0-10): "))

    peso = float(input(f"Ingrese peso de la nota {i+1} (porcentaje): "))
    total_peso += peso
    total_notas += nota * peso

promedio = total_notas / total_peso

print(f"\nPromedio final: {promedio:.2f}")

if promedio >= 9:
    print("Resultado: Excelente üèÖ")
elif promedio >= 7:
    print("Resultado: Aprobado ‚úÖ")
else:
    print("Resultado: Reprobado ‚ùå")
```

---

### üß© An√°lisis del ejemplo
| Concepto | Aplicaci√≥n |
|-----------|-------------|
| **Variables** | `nota`, `peso`, `promedio` |
| **Estructuras de control** | `for`, `while`, `if/elif/else` |
| **Entrada/salida** | `input()` y `print()` |
| **Validaci√≥n** | bucle `while` evita datos incorrectos |
| **Formato de salida** | uso de `f-strings` (`{promedio:.2f}`) |

---

## üí° 6. Ejemplo integrador 2: gesti√≥n de turnos en una cl√≠nica

### üìñ Descripci√≥n del problema

Queremos simular un sistema simple de turnos m√©dicos.
El programa debe:
1. Pedir el nombre del paciente.
2. Preguntar si tiene turno.
3. Si no tiene, asignarle el siguiente n√∫mero disponible.
4. Repetir el proceso hasta que no haya m√°s pacientes (usando un bucle).
5. Mostrar el total de pacientes atendidos.

---

### üíª C√≥digo
```python
# Sistema simple de turnos m√©dicos

turno_actual = 1
pacientes_atendidos = 0

while True:
    nombre = input("Ingrese el nombre del paciente (o 'fin' para salir): ")

    if nombre.lower() == "fin":
        break

    tiene_turno = input("¬øTiene turno previo? (s/n): ").lower()

    if tiene_turno == "s":
        print(f"‚úîÔ∏è {nombre} puede pasar a la consulta.")
    else:
        print(f"üìã {nombre} no ten√≠a turno, se le asigna el turno n√∫mero {turno_actual}.")
        turno_actual += 1

    pacientes_atendidos += 1
    print("-" * 40)

print(f"\nTotal de pacientes atendidos: {pacientes_atendidos}")
print("Fin del d√≠a üè•")
```

---

### üîç An√°lisis del ejemplo
| Concepto | Aplicaci√≥n |
|-----------|-------------|
| **Entrada de datos** | `input()` para nombre y estado del turno |
| **Condicionales** | `if`, `else` y comparaci√≥n con `.lower()` |
| **Operador ternario** | podr√≠a aplicarse para simplificar el mensaje |
| **Bucle `while`** | mantiene el programa en ejecuci√≥n hasta escribir ‚Äúfin‚Äù |
| **Contadores** | `pacientes_atendidos` y `turno_actual` |
| **Flujo controlado** | uso de `break` para salir del ciclo principal |

---
## üéØ 7. `match` / `case` (pattern matching estructural)

Desde **Python 3.10** existe una nueva estructura de control llamada `match` / `case`, tambi√©n conocida como **pattern matching estructural**.

Sirve para:
- Reemplazar cadenas largas de `if / elif / else`.
- Elegir entre m√∫ltiples casos de forma m√°s clara.
- ‚ÄúDesestructurar‚Äù datos (tuplas, diccionarios simples) de forma declarativa.
- Hacer c√≥digo m√°s legible cuando hay **muchas alternativas** posibles.

> üí° Si ven√≠s de otros lenguajes, `match` se parece al `switch`, pero es **m√°s potente**.

---

### üß± Sintaxis b√°sica

```python
match expresion:
    case patron_1:
        # c√≥digo si coincide con patron_1
    case patron_2:
        # c√≥digo si coincide con patron_2
    case _:
        # caso "por defecto" (comod√≠n)
```

- La **expresi√≥n** se eval√∫a una sola vez.
- Python va probando cada `case` **en orden** y ejecuta el primer caso que coincida.
- `_` se usa como **comod√≠n** (equivalente al `else`).

---

### üîπ Ejemplo 1: men√∫ simple (reemplazando `if/elif`)

```python
opcion = input("Seleccione una opci√≥n (1, 2, 3): ")

match opcion:
    case "1":
        print("Eligi√≥ ver el saldo.")
    case "2":
        print("Eligi√≥ realizar una transferencia.")
    case "3":
        print("Eligi√≥ ver los √∫ltimos movimientos.")
    case _:
        print("Opci√≥n no v√°lida.")
```

Comparado con un `if/elif/else`, el c√≥digo queda **m√°s compacto y legible** cuando hay muchas opciones.

---

### üîπ Ejemplo 2: m√∫ltiples valores en un mismo caso

Podemos agrupar casos que ejecutan el mismo c√≥digo usando `|` (OR de patrones):

```python
extension = "jpg"

match extension:
    case "jpg" | "jpeg" | "png":
        print("Es una imagen.")
    case "mp4" | "mkv":
        print("Es un video.")
    case "mp3":
        print("Es un audio.")
    case _:
        print("Tipo de archivo desconocido.")
```

---

### üß™ 7.1. `match` con ‚Äúguardas‚Äù (condiciones adicionales)

Podemos agregar una condici√≥n extra usando `if` dentro de un `case`.
Esto se llama **guard**.

```python
edad = int(input("Ingrese su edad: "))

match edad:
    case e if e < 0:
        print("Edad inv√°lida.")
    case e if e < 18:
        print("Menor de edad.")
    case e if e < 65:
        print("Adulto.")
    case _:
        print("Adulto mayor.")
```

En este ejemplo:
- `e` captura el valor de `edad`.
- Luego se eval√∫a la condici√≥n `if e < 18`, etc.

---

### üß© 7.2. `match` con tuplas (desestructuraci√≥n simple)

Tambi√©n podemos usar `match` para trabajar con **tuplas** y combinaciones de valores.

```python
evento = ("error", 404)

match evento:
    case ("ok", codigo):
        print(f"Respuesta correcta, c√≥digo {codigo}.")
    case ("error", 404):
        print("Error 404: recurso no encontrado.")
    case ("error", codigo):
        print(f"Error gen√©rico, c√≥digo {codigo}.")
    case _:
        print("Evento desconocido.")
```

- Si `evento` es `("ok", 200)`, coincide con el primer `case` y captura `codigo = 200`.
- Si es `("error", 404)`, entra en el segundo caso.
- Si es `("error", 500)`, entra en el tercer caso.
- Cualquier otra cosa va al `case _`.

---

### üßÆ 7.3. Ejemplo aplicado: clasificaci√≥n de notas

Reescribimos el ejemplo de clasificaci√≥n de notas usando `match`:

```python
nota = float(input("Ingrese nota (0-10): "))

match nota:
    case n if n < 0 or n > 10:
        print("Nota inv√°lida. Debe estar entre 0 y 10.")
    case n if n >= 9:
        print("Excelente üèÖ")
    case n if n >= 7:
        print("Aprobado ‚úÖ")
    case _:
        print("Reprobado ‚ùå")
```

> üìå Observ√° c√≥mo `match` permite expresar **rangos** usando guardas (`if`) dentro de cada `case`.

---

### ‚öôÔ∏è 7.4. Cu√°ndo conviene usar `match` / `case`

Usar `match` es especialmente √∫til cuando:

- Hay **muchos valores posibles** para una misma variable.
- Queremos evitar una cadena larga de `if / elif / else`.
- Trabajamos con estructuras sencillas como **tuplas** (estado, c√≥digo), por ejemplo:
  - `(tipo_evento, codigo)`
  - `(accion, usuario)`
- Queremos que el c√≥digo sea **m√°s declarativo** y f√°cil de leer.

En cambio, para condiciones simples o muy cortas, un `if/elif` suele ser suficiente.

---

## üìö Recursos recomendados

- [Python Control Flow Statements ‚Äì Tutorial oficial](https://docs.python.org/3/tutorial/controlflow.html)
- [W3Schools ‚Äì Python If...Else](https://www.w3schools.com/python/python_conditions.asp)
- [W3Schools ‚Äì Python Loops](https://www.w3schools.com/python/python_for_loops.asp)
- [Real Python ‚Äì For Loops Deep Dive](https://realpython.com/python-for-loop/)
- [GeeksForGeeks ‚Äì Python while Loop Examples](https://www.geeksforgeeks.org/python-while-loop/)

---

> üß≠ **Resumen final:**
> Las estructuras de control son la base de toda l√≥gica de programaci√≥n.
> Permiten que un programa **tome decisiones**, **repita tareas** y **reaccione a condiciones din√°micas**.
> Con la combinaci√≥n de condicionales, bucles y operadores l√≥gicos, Python permite expresar de forma simple cualquier algoritmo.

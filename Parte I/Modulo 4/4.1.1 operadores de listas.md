# ðŸ§© MÃ³dulo 4: Estructuras de Datos y Algoritmos BÃ¡sicos

## **Tema 4.2: List Comprehension, Recomendaciones y Otras Operaciones con Listas**

---

### ðŸ§  IntroducciÃ³n

Las **listas** son una de las estructuras mÃ¡s versÃ¡tiles de Python.
A medida que se avanza en el lenguaje, aparecen formas mÃ¡s **compactas, expresivas y eficientes** de crearlas y manipularlas.

Una de las herramientas mÃ¡s poderosas para esto son las **list comprehensions**, que permiten generar listas de manera concisa y legible.

---

## ðŸ”¹ 1. List Comprehension

Una **list comprehension** es una **forma abreviada** de construir listas en una sola lÃ­nea, aplicando una **expresiÃ³n** y opcionalmente **condiciones**.

### ðŸ“˜ Sintaxis general:

```python
[expresion for elemento in iterable if condicion]
```

- `expresion`: operaciÃ³n o valor que se evaluarÃ¡ por cada elemento.
- `elemento`: variable temporal que recorre el iterable (por ejemplo, una lista o rango).
- `if condicion` *(opcional)*: filtra los elementos que cumplen la condiciÃ³n.

---

### ðŸ§© Ejemplo bÃ¡sico

```python
# Lista de cuadrados del 1 al 5
cuadrados = [x**2 for x in range(1, 6)]
print(cuadrados)  # [1, 4, 9, 16, 25]
```

---

### ðŸ§® Ejemplo con condiciÃ³n

```python
# NÃºmeros pares del 0 al 10
pares = [x for x in range(11) if x % 2 == 0]
print(pares)  # [0, 2, 4, 6, 8, 10]
```

---

### ðŸ”„ Ejemplo con transformaciÃ³n de texto

```python
nombres = ["ana", "LUIS", "SofÃ­a"]
normalizados = [n.capitalize() for n in nombres]
print(normalizados)  # ['Ana', 'Luis', 'SofÃ­a']
```

---

### âš™ï¸ Ejemplo con listas anidadas

```python
# Matriz 3x3
matriz = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]

# Aplanar la matriz en una sola lista
plana = [num for fila in matriz for num in fila]
print(plana)  # [1, 2, 3, 4, 5, 6, 7, 8, 9]
```

---

## ðŸ”¹ 2. Comprehensions anÃ¡logas

Python tambiÃ©n permite **comprehensions** con otras estructuras:

| Tipo | Sintaxis | Ejemplo |
|------|-----------|----------|
| **Set comprehension** | `{expresion for elemento in iterable}` | `{x**2 for x in range(5)}` |
| **Dict comprehension** | `{clave: valor for elemento in iterable}` | `{x: x**2 for x in range(5)}` |
| **Generator expression** | `(expresion for elemento in iterable)` | `(x**2 for x in range(5))` |

ðŸ’¡ **Diferencia clave:**
El **generator** no crea una lista en memoria, sino que **genera los valores uno a uno** (Ãºtil para grandes volÃºmenes de datos).

---

## ðŸ”¹ 3. Otras operaciones y tÃ©cnicas Ãºtiles con listas

### ðŸ§° 3.1. Copia y referencia

```python
a = [1, 2, 3]
b = a        # referencia, ambos apuntan al mismo objeto
c = a.copy() # copia independiente

a.append(4)
print(a)  # [1, 2, 3, 4]
print(b)  # [1, 2, 3, 4]
print(c)  # [1, 2, 3]
```

ðŸ“Ž *Usar `copy()` o slicing `[:]` para evitar efectos colaterales entre listas compartidas.*

---

### ðŸ§© 3.2. Slicing (segmentos de listas)

```python
nums = [0, 1, 2, 3, 4, 5, 6]

print(nums[1:4])   # [1, 2, 3]
print(nums[:3])    # [0, 1, 2]
print(nums[::2])   # [0, 2, 4, 6]
print(nums[::-1])  # [6, 5, 4, 3, 2, 1, 0] (inversiÃ³n)
```

---

### âš™ï¸ 3.3. Unir y extender listas

```python
a = [1, 2, 3]
b = [4, 5]

# Concatenar
c = a + b           # [1, 2, 3, 4, 5]

# Extender
a.extend(b)
print(a)            # [1, 2, 3, 4, 5]
```

---

### ðŸ§® 3.4. Funciones Ãºtiles con listas

| FunciÃ³n | DescripciÃ³n | Ejemplo |
|----------|--------------|----------|
| `len(lista)` | Longitud de la lista | `len([1,2,3]) â†’ 3` |
| `sum(lista)` | Suma de elementos numÃ©ricos | `sum([1,2,3]) â†’ 6` |
| `max(lista)` / `min(lista)` | MÃ¡ximo / mÃ­nimo | `max([3,7,2]) â†’ 7` |
| `sorted(lista)` | Devuelve lista ordenada | `sorted([3,1,2]) â†’ [1,2,3]` |
| `reversed(lista)` | Iterador en orden inverso | `list(reversed([1,2,3])) â†’ [3,2,1]` |

---

## ðŸ”¹ 4. Recomendaciones y buenas prÃ¡cticas

âœ… **Usar comprehensions** cuando:
- El cÃ³digo sea claro y legible.
- No haya lÃ³gica demasiado compleja o anidada.
- Se necesite crear una nueva lista transformada o filtrada.

âš ï¸ **Evitar comprehensions** cuando:
- La expresiÃ³n sea larga o difÃ­cil de entender.
- Se necesiten mÃºltiples condicionales o bucles anidados.
- Se requiera modificar elementos existentes (usar `for` tradicional).

ðŸ’¡ **Consejos adicionales:**
- Prefiere **comprehensions** sobre bucles `for` simples cuando sean expresivos.
- Para listas grandes, considera **generators** para ahorrar memoria.
- Usa **slicing** para copiar o invertir listas sin necesidad de bucles.
- Combina `zip()` y comprehensions para trabajar con varias listas a la vez:
  ```python
  nombres = ["Ana", "Luis", "SofÃ­a"]
  notas = [9, 7, 10]
  resumen = [f"{n}: {c}" for n, c in zip(nombres, notas)]
  print(resumen)  # ['Ana: 9', 'Luis: 7', 'SofÃ­a: 10']
  ```

---

## ðŸ§© Ejemplo integrador

Un ejemplo que combina **list comprehensions**, **condiciones** y **funciones integradas**:

```python
# Lista de ventas por vendedor
ventas = [
    {"nombre": "Ana", "monto": 1200},
    {"nombre": "Luis", "monto": 800},
    {"nombre": "SofÃ­a", "monto": 1500},
    {"nombre": "Carlos", "monto": 500},
]

# Obtener lista de nombres con ventas mayores a 1000
destacados = [v["nombre"] for v in ventas if v["monto"] > 1000]
print("Vendedores destacados:", destacados)

# Promedio general
promedio = sum(v["monto"] for v in ventas) / len(ventas)
print("Promedio de ventas:", promedio)

# Clasificar ventas (alta/baja)
clasificacion = [
    {"nombre": v["nombre"], "nivel": "Alta" if v["monto"] > promedio else "Baja"}
    for v in ventas
]
print(clasificacion)
```

---

## ðŸ“š Recursos Ãºtiles

- [Estructuras de datos â€” Python Docs (espaÃ±ol)](https://docs.python.org/es/3/tutorial/datastructures.html#list-comprehensions)
- [Real Python â€“ List Comprehensions in Python](https://realpython.com/list-comprehension-python/)

---